<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/2356874721.github.io/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/2356874721.github.io/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/2356874721.github.io/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/2356874721.github.io/images/logo.svg" color="#222">

<link rel="stylesheet" href="/2356874721.github.io/css/main.css">


<link rel="stylesheet" href="/2356874721.github.io/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/2356874721.github.io/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="警长的博客">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="警长的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="sheriff">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>警长的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/2356874721.github.io/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">警长的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">记录生活 记录成长</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/2356874721.github.io/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/2356874721.github.io/archives/" rel="section"><i class="archives fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/2356874721.github.io/categories/" rel="section"><i class="categories fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/2356874721.github.io/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/2356874721.github.io/about/" rel="section"><i class="about fa-fw"></i>关于</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/20/css-center/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/20/css-center/" class="post-title-link" itemprop="url">水平垂直居中</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-20 16:37:45" itemprop="dateCreated datePublished" datetime="2020-07-20T16:37:45+08:00">2020-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>元素的水平垂直居中问题，一直是面试中常问的基础中的基础题，为了加深印象，下面做下总结，对于元素来说，有两种情况，一种是块级元素，一种是行内元素</p>
<p>块级元素水平居中方法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HTML:</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">CSS</span>:</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-class">.item</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>行内元素水平居中方法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">CSS</span>:</span><br><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">text_align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-class">.item</span>&#123;  </span><br><span class="line">  <span class="attribute">display</span>: inline;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="元素宽高已知"><a href="#元素宽高已知" class="headerlink" title="元素宽高已知"></a>元素宽高已知</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  margin-left: -50px; // transform: translateX(-50px) // left: calc(50% - 50px)</span><br><span class="line">  margin-top: -50px; // transform: translateY(-50px)  // top: calc(50% - 50px)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="元素宽高未知"><a href="#元素宽高未知" class="headerlink" title="元素宽高未知"></a>元素宽高未知</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>，-<span class="number">50%</span>) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/20/css-flex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/20/css-flex/" class="post-title-link" itemprop="url">flex</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-20 15:18:21" itemprop="dateCreated datePublished" datetime="2020-07-20T15:18:21+08:00">2020-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>本文参考了阮一峰老师的两篇博文，膜拜~<br>•<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html</a><br>•<a href="http://www.ruanyifeng.com/blog/2015/07/flex-examples.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/07/flex-examples.html</a></p>
<h2 id="Flex介绍"><a href="#Flex介绍" class="headerlink" title="Flex介绍"></a>Flex介绍</h2><p>Flex 是 Flexible Box 的缩写，意为”弹性布局”。</p>
<p>用法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="给容器设置的属性"><a href="#给容器设置的属性" class="headerlink" title="给容器设置的属性"></a>给容器设置的属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">•flex-direction</span><br><span class="line">•flex-wrap</span><br><span class="line">•flex-flow</span><br><span class="line">•justify-content</span><br><span class="line">•align-items</span><br><span class="line">•align-content</span><br></pre></td></tr></table></figure>

<h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h3><p>设置主轴的方向</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">flex-direction: row | row-reverse | column | column-reverse</span><br><span class="line">•row: 默认值，水平方向，起点在左</span><br><span class="line">•row-reverse: 水平方向，起点在右</span><br><span class="line">•column: 主轴为垂直方向，起点在上</span><br><span class="line">•column-reverse：主轴为垂直方向，起点在下</span><br></pre></td></tr></table></figure>

<h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h3><p>如果一条轴线排不下，如何换行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flex-wrap: nowrap | wrap | wrap-reverse</span><br><span class="line">•nowrap：默认值，不换行</span><br><span class="line">•wrap：换行，第一行在上方</span><br><span class="line">•wrap-reverse：换行，第一行在下方</span><br></pre></td></tr></table></figure>

<h3 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h3><p>flex-direction属性和flex-wrap属性的简写形式，默认值为row nowrap</p>
<h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>项目在主轴上的对齐方式(水平方向)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">justify-content: flex-start | flex-end | center | space-between | space-around</span><br><span class="line">•flex-start：默认值，左对齐</span><br><span class="line">•flex-end：右对齐</span><br><span class="line">•center： 居中</span><br><span class="line">•space-between：两端对齐，项目之间的间隔都相等</span><br><span class="line">•space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍</span><br></pre></td></tr></table></figure>

<h3 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h3><p>项目在交叉轴上如何对齐(垂直方向对齐)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">align-items: flex-start | flex-end | center | baseline | stretch</span><br><span class="line">•flex-start：交叉轴的起点对齐</span><br><span class="line">•flex-end：交叉轴的终点对齐</span><br><span class="line">•center：交叉轴的中点对齐</span><br><span class="line">•baseline: 项目的第一行文字的基线对齐</span><br><span class="line">•stretch：默认值，如果项目未设置高度或设为auto，将占满整个容器的高度</span><br></pre></td></tr></table></figure>

<h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h3><p>定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">align-content: flex-start | flex-end | center | space-between | space-around | stretch</span><br><span class="line">•flex-start：与交叉轴的起点对齐</span><br><span class="line">•flex-end：与交叉轴的终点对齐</span><br><span class="line">•center：与交叉轴的中点对齐</span><br><span class="line">•space-between：与交叉轴两端对齐，轴线之间的间隔平均分布</span><br><span class="line">•space-around：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍</span><br><span class="line">•stretch：默认值，轴线占满整个交叉轴</span><br></pre></td></tr></table></figure>

<h2 id="给子元素设置的属性"><a href="#给子元素设置的属性" class="headerlink" title="给子元素设置的属性"></a>给子元素设置的属性</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">•order</span><br><span class="line">•flex-grow</span><br><span class="line">•flex-shrink</span><br><span class="line">•flex-basis</span><br><span class="line">•flex</span><br><span class="line">•align-self</span><br></pre></td></tr></table></figure>

<h3 id="order"><a href="#order" class="headerlink" title="order"></a>order</h3><p>项目的排列顺序。数值越小，排列越靠前，默认为0</p>
<h3 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h3><p>定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大。如果所有项目的flex-grow属性都为1，则它们将等分剩余空间（如果有的话）。如果一个项目的flex-grow属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍。</p>
<h3 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h3><p>定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小</p>
<p>如果所有项目的flex-shrink属性都为1，当空间不足时，都将等比例缩小。如果一个项目的flex-shrink属性为0，其他项目都为1，则空间不足时，前者不缩小。</p>
<h3 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h3><p>定义了在分配多余空间之前，项目占据的主轴空间（main size）</p>
<h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p>flex属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。</p>
<h3 id="align-self"><a href="#align-self" class="headerlink" title="align-self"></a>align-self</h3><p>允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">align-self: auto | flex-start | flex-end | center | baseline | stretch</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/20/css-margin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/20/css-margin/" class="post-title-link" itemprop="url">margin</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-20 11:28:19" itemprop="dateCreated datePublished" datetime="2020-07-20T11:28:19+08:00">2020-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="margin"><a href="#margin" class="headerlink" title="margin"></a>margin</h2><p>margin是前端布局中经常用到的一个属性，细细挖掘才发现，这个属性除了常用的一些使用场景以外，还能给我们解决一类问题，提供了新的思路。下面的内容如果你听过，就再做一次梳理，没接触过就进行一次学习，大家共同进步。</p>
<h3 id="margin是什么"><a href="#margin是什么" class="headerlink" title="margin是什么"></a>margin是什么</h3><p>每天都在用margin这个属性，你有认真的思考过它到底是一个什么东西吗？<br>w3c是这样定义margin的：”CSS 边距属性定义元素周围的空间。通过使用单独的属性，可以对上、右、下、左的外边距进行设置。也可以使用简写的外边距属性同时改变所有的外边距。”你可以理解为margin是把相邻的元素隔离开，它处理的是自身与外部元素之间的关系，和它对应的是padding，与margin不同的是，padding处理的是它本身外层的包裹与内容之间的距离。</p>
<h3 id="margin可能的值"><a href="#margin可能的值" class="headerlink" title="margin可能的值"></a>margin可能的值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">margin: auto || length || % || inherit</span><br></pre></td></tr></table></figure>
<p>这里需要注意的是%百分比的值，一定是相对于父元素的宽度。<br>margin可以对上、右、下、左四个方向单独设置，如：margin-top、margin-right、margin-bottom、margin-left。<br>margin也可以使用简写的方式，对四个方向设置，如：margin: top right bottom left;<br>margin在简写的基础上，也支持省略数值的写法，具体如下：<br>1）、margin: 10px;  四个方向都是10px<br>2）、margin: 10px 20px;  上下是10px，左右是20px<br>3）、margin：10px 20px 30px;  上10px，右20px，下30px，左20px<br>4）、margin：10px 20px 30px 40px;  上右下左分别是10px、20px、30px、40px</p>
<h3 id="margin与padding"><a href="#margin与padding" class="headerlink" title="margin与padding"></a>margin与padding</h3><p>开发中要实现相同的布局，往往利用margin和padding都能实现，那么我们到底什么时候用margin，什么时候用padding呢？简单的总结一下。<br>使用margin的情况：<br>1）、在border外侧增加间距(css盒模型，margin在border的外侧)<br>2）、这个间距不需要背景颜色(margin区域是透明的)<br>3）、垂直方向上两个元素的间距需要抵消(需要利用margin外边距合并这个特性时)<br>对应的padding也有以下3点：<br>1）、在border内侧增加间距<br>2）、间距需要背景颜色<br>3）、垂直方向上两个元素的间距是二者之和</p>
<h2 id="margin合并问题"><a href="#margin合并问题" class="headerlink" title="margin合并问题"></a>margin合并问题</h2><p>“简单地说，外边距合并指的是，当两个垂直外边距相遇时，它们将形成一个外边距。合并后的外边距的高度等于两个发生合并的外边距的高度中的较大者。”<br>外边距合并有以下几种情况：</p>
<h3 id="两个相邻的兄弟元素"><a href="#两个相邻的兄弟元素" class="headerlink" title="两个相邻的兄弟元素"></a>两个相邻的兄弟元素</h3><p>当一个元素出现在另一个元素上面时，第一个元素的下外边距与第二个元素的上外边距会发生合并。</p>
<img src="/2356874721.github.io/2020/07/20/css-margin/1.png" class>
<p>解决：<br>1.给下面的元素加上一层父级元素并加上overflow:hidden;<br>2.给两个都加一层父级再加bfc</p>
<h3 id="父元素与其第一个子元素"><a href="#父元素与其第一个子元素" class="headerlink" title="父元素与其第一个子元素"></a>父元素与其第一个子元素</h3><p>当一个元素包含在另一个元素中时(假设没有内边距或边框把外边距分隔开)，它们会发生外边距合并。这种情况就是我们经常遇见的，给子元素设置外边距，父元素会一起掉下去的情况，就是因为发生了外边距合并。</p>
<img src="/2356874721.github.io/2020/07/20/css-margin/2.png" class>
<p>解决：<br>1.给父级设置边框或内边距<br>2.触发bfc(块级格式上下文),改变父级的渲染规则</p>
<h3 id="一个有上下外边距的空元素"><a href="#一个有上下外边距的空元素" class="headerlink" title="一个有上下外边距的空元素"></a>一个有上下外边距的空元素</h3><p>假设有一个空元素，它有外边距，但是没有边框或填充。在这种情况下，上外边距与下外边距就碰到了一起，它们会发生合并。</p>
<img src="/2356874721.github.io/2020/07/20/css-margin/3.png" class>
<h3 id="相邻兄弟元素，其中一个是空元素"><a href="#相邻兄弟元素，其中一个是空元素" class="headerlink" title="相邻兄弟元素，其中一个是空元素"></a>相邻兄弟元素，其中一个是空元素</h3><p>空元素的上下边距先合并，再和外部的合并。</p>
<img src="/2356874721.github.io/2020/07/20/css-margin/4.png" class>
<h2 id="margin在块级元素、内联元素中的区别"><a href="#margin在块级元素、内联元素中的区别" class="headerlink" title="margin在块级元素、内联元素中的区别"></a>margin在块级元素、内联元素中的区别</h2><p>margin可以作用到块级元素上，也能作用到内联元素上，区别是作用在块级元素时，上下左右四个方向都生效，内联元素只能是水平方向，但是内联元素中有一类元素很特殊，margin能够在上下左右四个方向都生效，就是可替换元素。</p>
<h3 id="可替换元素"><a href="#可替换元素" class="headerlink" title="可替换元素"></a>可替换元素</h3><p>可替换元素可以简单的理解为，它所要展示的内容，是由标签本身的某个属性决定的，如：img | input | select | textarea | button | label 等。以上虽然也属于内联元素，但margin依旧可以影响到他的上下左右。</p>
<h3 id="不可替换元素"><a href="#不可替换元素" class="headerlink" title="不可替换元素"></a>不可替换元素</h3><p>与可替换元素相对的就是不可替换元素，如：span 等，margin只能影响到它的左右方向。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/20/css-bfc-ifc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/20/css-bfc-ifc/" class="post-title-link" itemprop="url">BFC与IFC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-20 11:06:57" itemprop="dateCreated datePublished" datetime="2020-07-20T11:06:57+08:00">2020-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="BFC与IFC"><a href="#BFC与IFC" class="headerlink" title="BFC与IFC"></a>BFC与IFC</h2><h3 id="什么是FC"><a href="#什么是FC" class="headerlink" title="什么是FC"></a>什么是FC</h3><p>FC即格式化上下文(Formatting Context)，指的是页面上一块独立的区域，这块区域有自己的渲染规则，他决定内部元素的布局方式以及和其他元素的相互关系及作用。你可以通俗的理解为，他是属于你的一块田野，里面种什么、怎么种、种在哪里，与别人无关，完全由你自己说了算。</p>
<h3 id="什么是Box"><a href="#什么是Box" class="headerlink" title="什么是Box"></a>什么是Box</h3><p>通常来说页面上存在许多Box，元素的display属性决定了盒子的类型，而不同类型的Box就会有不同的FC。</p>
<p>Block Level(块级)盒子形成BFC，比如display值为block、list-item、table的元素。</p>
<p>Inline Level(行级)盒子形成IFC，比如dislpay值为inline、inline-block、inline-table的元素。</p>
<h3 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h3><p>BFC块级格式化上下文(Block Formatting Context)，是一块独立的块级渲染区域，来约束内部的块级盒子布局。</p>
<h4 id="1、BFC内部遵循的规则"><a href="#1、BFC内部遵循的规则" class="headerlink" title="1、BFC内部遵循的规则"></a><strong>1、BFC内部遵循的规则</strong></h4><p>a)、内部的Box在垂直方向一个挨着一个排列</p>
<p>b)、BFC是独立的，内部元素不会影响到外边</p>
<p>c)、每个元素的左外边距与包含块的左边界相接触(从左到右)，即使浮动元素也是如此(意思是说BFC内的元素不会超出)</p>
<p>d)、BFC与float元素不会发生重叠</p>
<p>e)、计算BFC的高度也包含float元素</p>
<p>f)、垂直方向的距离由margin决定，属于同一个BFC的相邻Box的margin会发生重叠(这里的重叠应该特指垂直方向，因为每个Box单独占一行，重叠的部分只有垂直方向)</p>
<h4 id="2、怎么生成BFC"><a href="#2、怎么生成BFC" class="headerlink" title="2、怎么生成BFC"></a><strong>2、怎么生成BFC</strong></h4><p>生成BFC有以下几种方法：</p>
<p>a)、float的值不是none时，即：float:left || right || inherit</p>
<p>b)、overflow的值不是visible时，即：overflow:hidden || scroll || auto || inherit</p>
<p>c)、display的值是inline-block、table-cell、table-caption、flex、inline-flex</p>
<p>d)、position的值是absolute、fixed</p>
<p>简单的对比一下几种方法，a)和d)是会让此BFC脱离文档流，应用时应该注意是否对后面的其他FC的位置是否有影响，b)和c)没有脱离文档流，display为inline-block、table-cell、inline-flex时，BFC的宽度由内部元素撑开，display为flex时，宽度自动充满父元素，table-caption会使内部元素垂直排列。</p>
<h4 id="3、BFC的作用"><a href="#3、BFC的作用" class="headerlink" title="3、BFC的作用"></a><strong>3、BFC的作用</strong></h4><p>说了这么多，BFC有什么作用呢？</p>
<p><strong>a)、清除浮动</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HTML:</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">CSS</span>:</span><br><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: chartreuse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">background-color</span>: chocolate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上面的代码得到的结果非常简单，.wrap的背景色没有展现出来，因为内部元素浮动，造成.wrap的高度塌陷，使得height为0。那我们这么解决这个问题呢？这里既然说的是BFC的一系列东东，自然跟它脱不了干系，如果你仔细阅读了这篇文档，其实你已经有答案了，根据BFC内部遵循的规则，也就是1 e)这一条，BFC的高度是会把float元素也计算在内的，.wrap的高度之所以是0，不就是因为计算高度的时候没有计算内部的三个浮动的div的高度吗？我们只要让.wrap变成一个BFC就可以了，生成BFC的方法有四种，根据实际情况选取一种，我们常用的就是overflow:hidden</p>
<p><strong>b)、垂直margin合并问题</strong></p>
<p>HTML和a)中的结构一模一样，CSS如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: chartreuse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: chocolate;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>效果如下图所示，在垂直方向上，两个相邻的margin合并了，并且取了大的那个。</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/1.png" class>

<p>这时在阅读一遍BFC的规则，b)说垂直方向的距离由margin决定，同一个BFC的margin会合并，那么我们让他们属于不同的BFC就好了，解决办法是给第二个div包裹一层，让其成为一个独立的BFC，这样BFC之间就不会相互影响了，如下图：</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/2.png" class>

<p><strong>c)、float元素布局遮挡问题</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTML:</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item1"</span>&gt;</span>11111111111<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item2"</span>&gt;</span>哈哈哈哈哈哈哈哈哈哈哈哈哈哈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">CSS</span>:</span><br><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">  <span class="attribute">background-color</span>: chocolate;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item1</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: darkgreen;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述结构是一个两列布局，左边一列浮动，效果如下：</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/3.png" class>

<p>可以看到当左边一列产生浮动，并且高度小于右侧高度时，右侧内容就会与左侧浮动区域发生重叠，解决办法是让右侧成为一个独立的BFC。</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/4.png" class>

<h2 id="IFC"><a href="#IFC" class="headerlink" title="IFC"></a>IFC</h2><p>IFC内联格式化上下文(Block Formatting Context)</p>
<h4 id="IFC内部遵循的规则"><a href="#IFC内部遵循的规则" class="headerlink" title="IFC内部遵循的规则"></a>IFC内部遵循的规则</h4><p>a)、子元素水平方向横向排列，并且垂直方向起点为元素顶部</p>
<p>b)、子元素只会计算横向样式空间，垂直方向样式空间不会被计算(如：margin)</p>
<p>c)、在垂直方向上，利用vertical-align来实现不同形式来对齐(top、middle、baseline、bottom等)</p>
<p>d)、使用text-align来实现水平居中</p>
<h4 id="怎么生成IFC"><a href="#怎么生成IFC" class="headerlink" title="怎么生成IFC"></a>怎么生成IFC</h4><p>生成IFC非常简单，只要块级元素中仅包含内联元素，就会形成一个IFC。</p>
<h4 id="IFC的作用"><a href="#IFC的作用" class="headerlink" title="IFC的作用"></a>IFC的作用</h4><p>利用IFC我们可以解释一些开发中常见的现象</p>
<p><strong>a)、垂直方向上margin不生效问题</strong></p>
<p>结构如下图所示，给span元素加margin，可以看到只有水平方向生效了，因为IFC内部元素只会计算水平的样式空间，垂直的不计算。</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/5.png" class>

<p><strong>b)、块级元素水平居中问题</strong></p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/6.png" class>

<p>如上图，我们想要.ele元素在wrap内水平居中，除了常用写法margin:0 auto,我们还可以利用IFC来解决，先使.ele形成一个IFC，再给.wrap设置text-align:center即可。</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/7.png" class>

<p><strong>c)、垂直方向对齐问题</strong></p>
<p>说到垂直居中就不得不说vertical-align，开发中比较常用的是vertical-align:middle，下面就从middle开始介绍下吧。</p>
<p>如下图，从上至下的线分别代表上行线高度、大写字母高度、中线、基线、下行线，小写字母x的下边缘就是基线的位置。</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/8.png" class>

<p>vertical-align:middle，middle指的就是x-height二分之一的位置，可以近似的理解为x交叉点那个位置，由于字体等因素，比如微软雅黑字体比较下沉，对应的字母x的交叉位置就偏下，所以说middle并不是绝对居中的。那么vertical-align都有哪些具体值和属性呢？</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/9.png" class>

<p>1、长度：如vertical-align:2px 元素相对于基线，向上移动2px</p>
<p>2、百分值：说到百分比牵扯到相对于哪个属性，这里是相对于此元素所继承的line-height的值，如</p>
<p>line-height:20px,vertical-align:10% 等价于 vertical-align:2px</p>
<p>3、vertical-align的不同属性值</p>
<p>   1）、baseline：子元素的baseline与父元素的baseline对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/10.png" class>

<p> 2）、middle：子元素的二分之一x-height与父元素二分之一x-height对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/11.png" class>

<p> 3）、text-top：将元素顶端与父元素字体顶端对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/12.png" class>

<p> 4）、text-bottom：将元素底端与父元素字体底端对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/13.png" class>

<p> 5）、sub：子元素的baseline与父元素下标位置对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/14.png" class>

<p>6）、super：子元素的baseline与父元素的上标位置对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/15.png" class>

<p>7）、top：将元素盒子的顶部与其所在行的最高元素的顶端对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/16.png" class>

<p> 8）、bottom：将元素盒子的底部与其所在行的最低元素底端对齐</p>
<img src="/2356874721.github.io/2020/07/20/css-bfc-ifc/17.png" class>

<p>开发中为什么我的vertical-align不生效呢？</p>
<p>注意：只有当元素是inline-block或者inline时，vertical-align才生效</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/20/css-clear-float/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/20/css-clear-float/" class="post-title-link" itemprop="url">清除浮动</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-20 10:41:04" itemprop="dateCreated datePublished" datetime="2020-07-20T10:41:04+08:00">2020-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>float取值有：left | right | none | inherit</strong></p>
<p><strong>使用浮动带来的问题：</strong>元素脱离文档流，位置释放，就没有内容撑着父元素了，导致父元素高度塌陷，影响布局</p>
<p>解决办法如下：</p>
<h2 id="父元素height写死"><a href="#父元素height写死" class="headerlink" title="父元素height写死"></a>父元素height写死</h2><p>优点：简单、代码少、容易掌握 </p>
<p>缺点：要给出精确的高度，如果高度和父级div不一样时，会产生问题 </p>
<h2 id="父级元素也一起浮动"><a href="#父级元素也一起浮动" class="headerlink" title="父级元素也一起浮动"></a>父级元素也一起浮动</h2><p>使父元素和子元素在同一个文档流里面</p>
<p>缺点：不建议使用，会产生新的浮动问题</p>
<h2 id="overflow-hidden"><a href="#overflow-hidden" class="headerlink" title="overflow: hidden"></a>overflow: hidden</h2><p>父元素设置overflow: hidden;zoom: 1</p>
<p>zoom: 1是兼容ie</p>
<p>优点：简单、代码少、浏览器支持好 </p>
<p>缺点：不能和position配合使用，因为超出的尺寸的会被隐藏。</p>
<h2 id="父级div定义-overflow-auto"><a href="#父级div定义-overflow-auto" class="headerlink" title="父级div定义 overflow:auto"></a><strong>父级div定义 overflow:auto</strong></h2><p>优点：简单、代码少、浏览器支持好 </p>
<p>缺点：内部宽高超过父级div时，会出现滚动条。 </p>
<h2 id="结尾处加空div标签-并设置clear-both"><a href="#结尾处加空div标签-并设置clear-both" class="headerlink" title="结尾处加空div标签 并设置clear:both"></a>结尾处加空div标签 并设置clear:both</h2><p>优点：简单、代码少、浏览器支持好、不容易出现怪问题 </p>
<p>缺点：不少初学者不理解原理；如果页面浮动布局多，就要增加很多空div，让人感觉很不好</p>
<h2 id="父级div定义-伪类-after-和-zoom"><a href="#父级div定义-伪类-after-和-zoom" class="headerlink" title="父级div定义 伪类:after 和 zoom"></a><strong>父级div定义 伪类:after 和 zoom</strong></h2><p>.clearfloat:after{display:block;clear:both;content:””;visibility:hidden;height:0} </p>
<p>.clearfloat{zoom:1}</p>
<p>优点：浏览器支持好、不容易出现怪问题</p>
<p>缺点：代码多、不少初学者不理解原理，要两句代码结合使用才能让主流浏览器都支持。 </p>
<p>建议：推荐使用，建议定义公共类，以减少CSS代码。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/18/css-position/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/18/css-position/" class="post-title-link" itemprop="url">position</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-18 11:17:00" itemprop="dateCreated datePublished" datetime="2020-07-18T11:17:00+08:00">2020-07-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="position取值"><a href="#position取值" class="headerlink" title="position取值"></a>position取值</h2><p>position：static | relative | absolute | fixed | sticky | initial | inherit | unset</p>
<p>其中最常用的是 static 、relative、absolute、fixed 和 sticky，下面依次来介绍下</p>
<p><strong>position: static</strong></p>
<p>默认值，在正常流中，对设置的 top 、left、right、bottom、z-index 一应忽略</p>
<p><strong>position: relative</strong></p>
<p>相对定位，相对于自己原来的位置偏移，空间不释放</p>
<p><strong>position: absolute</strong></p>
<p>绝对定位，若祖先元素有设置 position: static 以外的属性值，则相对该祖先元素绝对定位；否则，相对浏览器视口绝对定位，空间释放</p>
<p><strong>position: fixed</strong></p>
<p>固定定位，相对浏览器窗口固定定位，不随滚动条滚动，空间释放</p>
<p><strong>position: sticky(有兼容性问题)</strong></p>
<p>它的表现类似position:relative和position:fixed的合体，元素定位表现为在跨越特定阈值前为相对定位，之后为固定定位，如：吸顶的效果。须指定 top, right, bottom 或 left 四个阈值其中之一，才可使粘性定位生效。否则其行为与相对定位相同。</p>
<p><u>需要注意的是：</u></p>
<p>•设定为 position:sticky 元素的任意父节点的 overflow 属性必须是 visible，否则 position:sticky 不会生效。这里需要解释一下：</p>
<p>•如果 position:sticky 元素的任意父节点定位设置为 overflow:hidden，则父容器无法进行滚动，所以 position:sticky 元素也不会有滚动然后固定的情况。</p>
<p>•如果 position:sticky 元素的任意父节点定位设置为 position:relative | absolute | fixed，则元素相对父元素进行定位，而不会相对 viewprot 定位。</p>
<p>达到设定的阀值，这个还算好理解，也就是设定了 position:sticky 的元素表现为 relative 还是 fixed 是根据元素是否达到设定了的阈值决定的。</p>
<p><strong>position: initial</strong></p>
<p>initial 关键字用于设置CSS属性为它的默认值（在这里也就是 position: static）</p>
<p><strong>position: inherit</strong></p>
<p>继承父元素的position属性</p>
<p><strong>position: unset</strong></p>
<p>unset 关键字是 initial 和inherit 的组合</p>
<p><u>需要注意的是</u>：</p>
<p>•如果该属性是默认继承属性，则该值等同于 inherit</p>
<p>•如果该属性是非继承属性，则该值等同于 initial</p>
<p><u>解释一下：</u></p>
<p>unset 可以理解为<strong>不设置</strong>，举个例子，可继承属性：color，不可继承属性border，当给子元素设置了unset后，它表现出来的是对于color属性，继承了祖先元素的值，border则不继承。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/18/js-arrow-fn/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/18/js-arrow-fn/" class="post-title-link" itemprop="url">箭头函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-18 10:47:45" itemprop="dateCreated datePublished" datetime="2020-07-18T10:47:45+08:00">2020-07-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>这里不着重讲箭头函数是什么，主要讲一下箭头函数和普通函数的区别</p>
<h2 id="普通函数和箭头函数的区别"><a href="#普通函数和箭头函数的区别" class="headerlink" title="普通函数和箭头函数的区别"></a>普通函数和箭头函数的区别</h2><p>•箭头函数没有prototype(原型)，所以箭头函数本身没有this</p>
<p>•箭头函数的this在定义的时候继承自外层第一个普通函数的this、</p>
<p>•如果箭头函数外层没有普通函数，它的this都会指向window</p>
<p>•箭头函数本身的this指向不能改变，如果想要修改箭头函数的this指向，可以修改它要继承的this指向</p>
<p>•箭头函数没有arguments</p>
<p>•箭头函数的this指向普通函数时,它的argumens继承于该普通函数</p>
<p>•使用new调用箭头函数会报错，因为箭头函数没有constructor</p>
<p>•箭头函数不支持new.target，new.target是ES6新引入的属性，普通函数如果通过new调用，new.target会返回该函数的引用，此属性主要：用于确定构造函数是否为new调用的。</p>
<p>•箭头函数不支持重复的函数参数,普通函数的函数参数支持重命名</p>
<p>•箭头函数相对于普通函数语法更简洁优雅</p>
<h2 id="箭头函数的注意事项"><a href="#箭头函数的注意事项" class="headerlink" title="箭头函数的注意事项"></a>箭头函数的注意事项</h2><p><strong>返回一个对象字面量</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func2 = <span class="function"><span class="params">()</span> =&gt;</span> (&#123;<span class="attr">foo</span>: <span class="number">1</span>&#125;); <span class="comment">// 用圆括号是正确的写法</span></span><br><span class="line"><span class="keyword">var</span> func2 = <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// return</span></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    foo: <span class="number">1</span> </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>箭头函数在参数和箭头之间不能换行</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func2 = () </span><br><span class="line">	      =&gt; (&#123;<span class="attr">foo</span>: <span class="number">1</span>&#125;) <span class="comment">// 错误的写法</span></span><br></pre></td></tr></table></figure>

<h2 id="箭头函数不适用场景"><a href="#箭头函数不适用场景" class="headerlink" title="箭头函数不适用场景"></a>箭头函数不适用场景</h2><p><strong>定义对象字面量的方法</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  array: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">  sum: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.array.push(<span class="string">'全局对象下没有array，这里会报错'</span>) <span class="comment">// 外层没有普通函数this会指向全局对象，全局对象上没有array,因此会报错</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.sum()</span><br><span class="line"></span><br><span class="line">正确的写法：</span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  array: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">  sum: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.array.push(<span class="string">'es5的写法是没有问题的'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.sum()</span><br></pre></td></tr></table></figure>

<p><strong>回调函数的动态this</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> button = <span class="built_in">document</span>.getElementById(<span class="string">'myButton'</span>)</span><br><span class="line">button.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">this</span>.innerHTML = <span class="string">'Clicked button'</span> <span class="comment">// this又指向了window，window没有innerHTML，也会报错</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">正确的写法：</span><br><span class="line"><span class="keyword">const</span> button = <span class="built_in">document</span>.getElementById(<span class="string">'myButton'</span>)</span><br><span class="line">button.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </span><br><span class="line">  <span class="keyword">this</span>.innerHTML = <span class="string">'Clicked button'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/18/js-symbol/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/18/js-symbol/" class="post-title-link" itemprop="url">Symbol</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-18 10:36:25" itemprop="dateCreated datePublished" datetime="2020-07-18T10:36:25+08:00">2020-07-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="symbol是什么"><a href="#symbol是什么" class="headerlink" title="symbol是什么"></a>symbol是什么</h2><p>Symbol是一种基础数据类型，你可以通过如下方式创建一个Symbol类型，至此js基本数据类型有如下几种：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">number | string | boolean | <span class="literal">undefined</span> | <span class="literal">null</span> | <span class="built_in">Symbol</span></span><br></pre></td></tr></table></figure>

<p>引用类型：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span></span><br></pre></td></tr></table></figure>

<h2 id="创建Symbol"><a href="#创建Symbol" class="headerlink" title="创建Symbol"></a>创建Symbol</h2><p>你可以通过如下方式创建一个Symbol类型，这里面参数指的是变量的描述信息，没有实际的意义</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="built_in">Symbol</span>(<span class="string">'sheriff'</span>)</span><br></pre></td></tr></table></figure>

<p>因为它是一种新的数据类型，所以可以通过typeof 来检查类型</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> name ==&gt; <span class="string">'symbol'</span></span><br></pre></td></tr></table></figure>

<h2 id="Symbol的特点"><a href="#Symbol的特点" class="headerlink" title="Symbol的特点"></a>Symbol的特点</h2><p>•每一个Symbol实例都是唯一的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name1 = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">let</span> name2 = <span class="built_in">Symbol</span>(<span class="string">'lee'</span>)</span><br><span class="line"><span class="keyword">let</span> name3 = <span class="built_in">Symbol</span>(<span class="string">'lee'</span>)</span><br><span class="line">name1 === name2 ==&gt; <span class="literal">false</span></span><br><span class="line">name2 === name3 ==&gt; <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p>•Symbol不能使用new关键字</p>
<p>•Symbol不支持强制类型转换</p>
<h2 id="Symbol应用场景"><a href="#Symbol应用场景" class="headerlink" title="Symbol应用场景"></a>Symbol应用场景</h2><h3 id="对象属性名"><a href="#对象属性名" class="headerlink" title="对象属性名"></a>对象属性名</h3><p>当一个复杂对象中含有多个属性的时候，很容易将某个属性名覆盖掉，利用 Symbol 值作为属性名可以很好的避免这一现象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Name = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> Age = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  [Name]: <span class="string">'sheriff'</span>,</span><br><span class="line">  [Age]: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line">obj[Name] ==&gt; sheriff</span><br><span class="line">obj[Age] ==&gt; <span class="number">20</span></span><br></pre></td></tr></table></figure>

<p> <strong>注意：</strong>就是当使用了Symbol作为对象的属性key后，在对该对象进行key的枚举时，用Object.keys()或者for…in来枚举对象的属性名，是取不到Symbol类型的属性的</p>
<p><strong>解决方式</strong>：使用这两种方式可以取到Symbol属性的值 Object.getOwnPropertySymbols(obj)、Reflect.ownKeys(obj)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.getOwnPropertySymbols(obj).map(<span class="function"><span class="params">index</span> =&gt;</span> obj[index]) ==&gt; [<span class="string">'sheriff'</span>,<span class="number">20</span>]</span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(obj).map(<span class="function"><span class="params">index</span> =&gt;</span> obj[index]) ==&gt; [<span class="string">'sheriff'</span>,<span class="number">20</span>]</span><br></pre></td></tr></table></figure>

<h3 id="使用Symbol来替代常量"><a href="#使用Symbol来替代常量" class="headerlink" title="使用Symbol来替代常量"></a>使用Symbol来替代常量</h3><p>良好的代码风格应该尽量消除魔法字符串，而由含义清晰的变量代替。魔法字符串：指的是在代码之中多次出现、与代码形成强耦合的某一个具体的字符串或数值。如下代码中type_audio、type_video、type_image就是魔法字符串。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TYPE_AUDIO = <span class="string">'type_audio'</span></span><br><span class="line"><span class="keyword">const</span> TYPE_VIDEO = <span class="string">'type_video'</span></span><br><span class="line"><span class="keyword">const</span> TYPE_IMAGE = <span class="string">'type_image'</span></span><br><span class="line"><span class="keyword">switch</span>()&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'type_audio'</span>:</span><br><span class="line">    ...do something</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'type_video'</span>:</span><br><span class="line">    ...do something</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'type_image'</span></span><br><span class="line">    ...do something</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>消除魔法字符窜可以让代码更加优雅</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TYPE_AUDIO = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> TYPE_VIDEO = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">const</span> TYPE_IMAGE = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="keyword">switch</span>()&#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'TYPE_AUDIO'</span>:</span><br><span class="line">    ...do something</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'TYPE_VIDEO'</span>:</span><br><span class="line">    ...do something</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'TYPE_IMAGE'</span></span><br><span class="line">    ...do something</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="定义类的私有属性和方法"><a href="#定义类的私有属性和方法" class="headerlink" title="定义类的私有属性和方法"></a>定义类的私有属性和方法</h3><p>在文件a.js中有一个Login类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PASSWORD = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(username, password) &#123;</span><br><span class="line">    <span class="keyword">this</span>.username = username</span><br><span class="line">    <span class="keyword">this</span>[PASSWORD] = password</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  checkPassword(pwd) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>[PASSWORD] === pwd</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Login</span><br></pre></td></tr></table></figure>

<p>b.js引入Login</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">'./a.js'</span></span><br><span class="line"><span class="keyword">const</span> login = <span class="keyword">new</span> Login(<span class="string">'admin'</span>, <span class="string">'123456'</span>)</span><br><span class="line">login.checkPassword(<span class="string">'123456'</span>) ==&gt; <span class="literal">true</span></span><br><span class="line">login.PASSWORD  ==&gt; 报错</span><br><span class="line">login[PASSWORD]  ==&gt; 报错</span><br><span class="line">login[<span class="string">"PASSWORD"</span>]  ==&gt; 报错</span><br></pre></td></tr></table></figure>

<p>用Symbol定义的属性PASSWORD，在b.js中调用a.js的方法使用，直接访问a.js中的PASSWORD属性是访问不到的，但是a.js内部可以访问到</p>
<h3 id="注册和获取全局Symbol"><a href="#注册和获取全局Symbol" class="headerlink" title="注册和获取全局Symbol"></a>注册和获取全局Symbol</h3><p>我们知道Symbol是唯一的，那么我们可以在全局中共用一个Symbol吗</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person1 = <span class="built_in">Symbol</span>.for(<span class="string">'person1'</span>)  </span><br><span class="line"><span class="keyword">let</span> person2 = <span class="built_in">Symbol</span>.for(<span class="string">'person1'</span>) </span><br><span class="line">person1 === person2  ==&gt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person1 = <span class="built_in">Symbol</span>.for(<span class="string">'person1'</span>)</span><br><span class="line"><span class="built_in">Symbol</span>.keyFor(person1) ==&gt; <span class="string">'person1'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person2 = <span class="built_in">Symbol</span>()</span><br><span class="line"><span class="built_in">Symbol</span>.keyFor(person2) ==&gt; <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/15/css-holygrail-twinwing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/" class="post-title-link" itemprop="url">圣杯布局、双飞翼布局</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-15 20:25:39" itemprop="dateCreated datePublished" datetime="2020-07-15T20:25:39+08:00">2020-07-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/css/" itemprop="url" rel="index"><span itemprop="name">css</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一、圣杯的由来"><a href="#一、圣杯的由来" class="headerlink" title="一、圣杯的由来"></a>一、圣杯的由来</h2><p>圣杯最早出现在公元前33年，是耶稣受难前逾越节的晚餐上，耶稣与众门徒使用的一个葡萄酒的杯子。</p>
<p>相传以色列人在埃及受尽苦役，上帝耶和华召见摩西，让其带领以色列人逃离埃及，前往迦南美地。摩西召见以色列的长老们前来，告诉他们：你们要按照家口取出羊羔，在逾越节这天把羊羔宰了，拿一把牛膝草，蘸盆里的血，打在门楣上和左右的门框上，并且谁也不可出自己的房门，一直到早晨。因为<a href="https://baike.baidu.com/item/耶和华" target="_blank" rel="noopener">耶和华</a>要巡行击杀埃及人，他看见血在门楣上和左右的门框上，就必越过那门，不会进你们的房屋。日后，你们到了迦南美地，也要遵守这个礼仪，如果你们的儿女问你们说：‘行这礼是甚么意思？’你们就说：‘这是献给耶和华逾越节的祭。当年以色列人在埃及的时候，耶和华要击杀埃及人，通过门楣上的血，越过以色列人的房屋，救了我们各家。’”</p>
<p>传说耶稣受难就是为了在逾越节这一天，给上帝耶和华献祭，从此以色列人就再也不必宰杀羔羊。在耶稣受难后的第三天，耶稣复活，这也是复活节的由来。后来人就认为耶稣在受难前使用的那个杯子有一种神奇的能力，如果找到这个杯子，喝下杯子里面的水，就能返老还童、死而复生并且获得永生，这就是传说中的圣杯。</p>
<h2 id="二、圣杯布局"><a href="#二、圣杯布局" class="headerlink" title="二、圣杯布局"></a>二、圣杯布局</h2><p>言归正传进入正题，通过上面的小故事，有助于我们很好的理解到底什么是圣杯布局。你可以简单的理解为这种布局像圣杯的形象一样，分为中间的杯身主体和左右两边的杯把儿，即它是一个三列布局，遵循左右两端固定中间自适应的原则。具体遵循的原则有以下几点：</p>
<p>• 头部和足部占屏幕所有宽度</p>
<p>• 头、足之间是一个三列布局</p>
<p>• 三列布局中两侧宽度固定，中间自适应</p>
<p>• 允许三列中的任意一列最高，即头足之间的高度由三列中的最高一列的高度决定</p>
<p>• 中间一列要求在浏览器中最先渲染(内容区最重要，是用户最想看见的部分)</p>
<p>接下来它的具体实现方式：</p>
<h3 id="建立上、中、下基本结构"><a href="#建立上、中、下基本结构" class="headerlink" title="建立上、中、下基本结构"></a>建立上、中、下基本结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="加入中间三列"><a href="#加入中间三列" class="headerlink" title="加入中间三列"></a>加入中间三列</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在未加样式之前，页面是这个样子的：header、footer已经在预定位置，center、left、right在中间，接下来要做的就是把center、left、right按照中、左、右的顺序放置。</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/1.png" class>

<h3 id="加入浮动样式"><a href="#加入浮动样式" class="headerlink" title="加入浮动样式"></a>加入浮动样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">	<span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时发现.content内部浮动，内部元素脱离文档流，.content的位置释放掉了，导致footer挤上去了，所以要给.footer加清除浮动</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.footer</span>&#123;</span><br><span class="line">	<span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接下来设置两侧宽度，以及预留两侧的空间</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">	<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>此时页面样式如下：</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/2.png" class>

<h3 id="将left放到指定位置"><a href="#将left放到指定位置" class="headerlink" title="将left放到指定位置"></a>将left放到指定位置</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">	<span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/3.png" class>

<p>这时你一定会有疑问，设置margin-left:-100%之后，left为什么上去了？？是啊，我也一样，仔细思考了下，终于明白了这是为什么，请往下看。</p>
<p>首先要明确一点，margin-left:-100%，这个百分比是相对于谁的？答案是父元素。没错，不管是margin还是padding，百分比都是相对于父元素的width，注意一定是width哦，不是height什么的。搞清楚这一点你是不是就明白上面的问题了呢？left元素从下面移到上面，正好是一个content的宽度啊！！！</p>
<p>接下来的问题就简单了，再把left向左移动自身宽度就到达指定位置了。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/4.png" class>

<h3 id="将right放到指定位置"><a href="#将right放到指定位置" class="headerlink" title="将right放到指定位置"></a>将right放到指定位置</h3><p>同样利用负外边距来实现</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/5.png" class>

<p>将right移动到指定位置还有另外一种写法：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">	<span class="attribute">margin-right</span>: -<span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>至此，圣杯布局就完成了，此时是不是感觉岁月静好，仔细思考下，上面的思路是不是还不够完善。试想一下，两侧宽度是固定的，当屏幕足够小的时候，中间的内容区是不是会被挤没了，因此要设置一个最小宽度，来保证中间最为重要的内容区可以被用户看到。最小宽度的算法如下：<br>$$<br>minWidth = leftWidth * 2 + rightWidth<br>$$<br>看到这里，你是不是又感到一片迷茫呢?最小宽度不就是两个侧边栏的width之和就行了吗？2倍是什么鬼啊？ 请把我们的思绪往前倒一倒，还记得我们为了让left到指定位置，给它加了position:relative吗？如下图，就是我们设置了margin-left:-100%之后的位置，也就是相对定位的起始位置，正是由于relative没有脱离文档流，即时它移走了，但位置依然保留。</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/6.png" class>

<p>所以在left向左移动300px之后，它的位置依然在，你可以想象成下图的样子，红框就是left的原本位置，这个位置依然属于left，谁也抢不走。</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/7.png" class>

<p>当页面缩放到下面这个程度时，即left原本位置同center等宽的时候，这个时候就是页面的最小宽度了，如果页面宽度再小，left本身宽度+原本位置宽度+right宽度页面就放不下了，浮动元素就会发生换行，从而布局就被破坏了。</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/8.png" class>

<h2 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h2><p>双飞翼布局的提出，就是为了解决圣杯布局中不设置最小宽度布局混乱的问题，而直接导致页面这个问题的原因，就是设置相对定位导致的，因此双飞翼布局就抛弃掉了相对定位的方式。首先来看下双飞翼布局的结构，它的基本结构与圣杯布局的基本结构一样，区别在于对于内容区中间三列的处理。</p>
<h3 id="加入中间三列-1"><a href="#加入中间三列-1" class="headerlink" title="加入中间三列"></a>加入中间三列</h3><p>center增加一个包裹层</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center-wrap item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left item"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right item"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="加入样式"><a href="#加入样式" class="headerlink" title="加入样式"></a>加入样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: bisque;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line">	<span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-class">.item</span>&#123;</span><br><span class="line">	<span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span>,<span class="selector-class">.footer</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: brown;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blueviolet;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center-wrap</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: orange;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span>&#123;</span><br><span class="line">	<span class="attribute">margin</span>: <span class="number">0</span> <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span>&#123;</span><br><span class="line">	<span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上将left、right移动到指定位置，同圣杯布局一致。不同之处在于，圣杯布局利用.content的padding来预留两侧栏的位置，而双飞翼是利用.center-wrap的外边距来预留位置。</p>
<h2 id="flex方式"><a href="#flex方式" class="headerlink" title="flex方式"></a>flex方式</h2><p>除了浮动，我们还可以利用flex来实现这种类似布局，当然这种实现方式可能违背了优先渲染中间区域的原则，但是原理比较简单，没有最小宽度的问题，在开发中也可以是很好的选择。</p>
<p>页面的基本结构与浮动方式一模一样，不同的地方在于，中间三列我们按照left、center、right的顺序放置如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>设置为三列设置的样式如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">	<span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>,<span class="selector-class">.right</span>&#123;</span><br><span class="line">	<span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span>&#123;</span><br><span class="line">	<span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="grid方式"><a href="#grid方式" class="headerlink" title="grid方式"></a>grid方式</h2><p>这种方式目前对浏览器的兼容还不够好，但也介绍一下，开阔下视野，多知道点儿东西没有坏处。</p>
<h3 id="基础结构"><a href="#基础结构" class="headerlink" title="基础结构"></a>基础结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="加入样式-1"><a href="#加入样式-1" class="headerlink" title="加入样式"></a>加入样式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">.wrap&#123;</span><br><span class="line">  background-color: bisque;</span><br><span class="line">  height: 400px;</span><br><span class="line">  display: grid;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.content&#123;</span><br><span class="line">  grid-row:2;</span><br><span class="line">  grid-column:1&#x2F;5;</span><br><span class="line">  display: grid;</span><br><span class="line">  grid-template-columns: 300px auto 300px;</span><br><span class="line">&#125;</span><br><span class="line">.left&#123;</span><br><span class="line">	background-color: blueviolet;</span><br><span class="line">&#125;</span><br><span class="line">.right&#123;</span><br><span class="line">	background-color: green;</span><br><span class="line">&#125;</span><br><span class="line">.center&#123;</span><br><span class="line">	background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">.header,.footer&#123;</span><br><span class="line">	background-color: brown;</span><br><span class="line">&#125;</span><br><span class="line">.header&#123;</span><br><span class="line">  grid-row:1;</span><br><span class="line">  grid-column:1&#x2F;5;</span><br><span class="line">&#125;</span><br><span class="line">.footer&#123;</span><br><span class="line">  grid-row:3;</span><br><span class="line">  grid-column:1&#x2F;5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最终实现的效果如下图：</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/9.png" class>

<p>display:grid: 声明其内部元素遵循grid网格布局，加到父元素身上</p>
<p>grid-row:2: 占据父元素的第二行，加到子元素身上</p>
<p>grid-column:1/5: 占据父元素中的第一个格到第五个格子</p>
<p>grid-template-columns: 300px auto 300px: 内部元素每列的尺寸，即left=300px;right=300px，剩下的就是center的尺寸</p>
<p>关于网格可以在进一步解释下，grid-column:1/5中的1/5不是5份里面占1份的意思，而是从第一个格子到第五个格子，你可以简单的理解为是网格线的索引，只不过这个索引是从1开始的，如下图所示就是从【1】到【5】之间的部分。</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/10.png" class>

<h2 id="table方式"><a href="#table方式" class="headerlink" title="table方式"></a>table方式</h2><h3 id="基础结构-1"><a href="#基础结构-1" class="headerlink" title="基础结构"></a>基础结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="加入样式-2"><a href="#加入样式-2" class="headerlink" title="加入样式"></a>加入样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: bisque;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line">	<span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: table;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line">	<span class="attribute">display</span>: table-cell;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span>,<span class="selector-class">.footer</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: brown;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blueviolet;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="absolute方式"><a href="#absolute方式" class="headerlink" title="absolute方式"></a>absolute方式</h2><p>主要区别是在中间内容区域的处理上，利用绝对定位，来把left和right放到指定位置</p>
<h3 id="基础结构-2"><a href="#基础结构-2" class="headerlink" title="基础结构"></a>基础结构</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span>header<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span>left<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span>center<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span>right<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span>footer<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="加入样式-3"><a href="#加入样式-3" class="headerlink" title="加入样式"></a>加入样式</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.wrap</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: bisque;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrap</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line">	<span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span>,<span class="selector-class">.footer</span>&#123;</span><br><span class="line">	<span class="attribute">background-color</span>: brown;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blueviolet;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span>&#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: orange;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实现的效果如下图，需要注意的一点就是采用这种方式需要给页面加最小宽度</p>
<img src="/2356874721.github.io/2020/07/15/css-holygrail-twinwing/11.png" class>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>零零总总的写了两天了，办法总比困难多，以上算是自己学习的一个过程吧。里面有些内容可能还是介绍的比较浅显，也可能是自己理解的还不够深入，下一篇深入的学习下margin负边距这个东西吧。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/14/js-event-loop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/2356874721.github.io/images/avatar.gif">
      <meta itemprop="name" content="sheriff">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="警长的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2356874721.github.io/2020/07/14/js-event-loop/" class="post-title-link" itemprop="url">js事件执行机制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-07-14 15:31:50" itemprop="dateCreated datePublished" datetime="2020-07-14T15:31:50+08:00">2020-07-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-08-08 23:13:03" itemprop="dateModified" datetime="2020-08-08T23:13:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/2356874721.github.io/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我们知道js的两大特点，一是单线程，二是js解释性语言，即解释一行执行一行。而单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。那么为什么js要设计成单线程呢？多线程不是更快并且体验上更好吗？</p>
<h2 id="js是单线程的原因"><a href="#js是单线程的原因" class="headerlink" title="js是单线程的原因"></a>js是单线程的原因</h2><p>JavaScript的单线程，与它的用途有关。作为浏览器脚本语言，JavaScript的主要用途是与用户互动，以及操作DOM。这决定了它只能是单线程，否则会带来很复杂的同步问题。比如，假定JavaScript同时有两个线程，一个线程在某个DOM节点上添加内容，另一个线程删除了这个节点，这时浏览器应该以哪个线程为准？所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变。</p>
<h2 id="主线程"><a href="#主线程" class="headerlink" title="主线程"></a>主线程</h2><p>也就是 js 引擎执行的线程，这个线程只有一个，一般执行代码块的时候，也就是程序执行进入主线程。</p>
<h2 id="任务队列"><a href="#任务队列" class="headerlink" title="任务队列"></a>任务队列</h2><p>前面说了单线程的特点就是要排队，如果前一个任务耗时很长，后一个任务就不得不一直等着。</p>
<p>于是，所有任务可以分成两种，一种是同步任务（synchronous），另一种是异步任务（asynchronous）。同步任务指的是，在主线程上排队执行的任务，只有前一个任务执行完毕，才能执行后一个任务；异步任务指的是，不进入主线程、而进入”任务队列”（task queue） 的任务，只有”任务队列”通知主线程，某个异步任务可以执行了，该任务才会进入主线程执行。也就是说，所有任务最后的执行都是在主线程上被执行的。</p>
<p>那么js的执行机制到底是怎样的呢？</p>
<h2 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h2><p>•整体的代码块(<strong>作为第一个宏任务</strong>)开始执行的时候，会把所有代码分为两部分：“同步任务”、“异步任务”；</p>
<p>•同步任务会直接进入主线程依次执行；</p>
<p>•异步任务会再分为宏任务和微任务；</p>
<p>•宏任务进入到Event Table中，并在里面注册回调函数，每当指定的事件完成时，Event Table会将这个函数移到Event Queue中；</p>
<p>•微任务也会进入到另一个Event Table中，并在里面注册回调函数，每当指定的事件完成时，Event Table会将这个函数移到Event Queue中；</p>
<p>•当主线程内的任务执行完毕，<strong>主线程为空时，会检查微任务的Event Queue</strong>，如果有任务，就全部执行，如果没有就执行<strong>下一个宏任务</strong>，<strong>进入下一次循环</strong></p>
<p>•循环开始还是检查有没有同步任务，有则直接执行</p>
<p>•同步任务执行完，执行所有微任务，执行完后再把下一个宏任务拿到主线程上执行</p>
<p>…</p>
<p>•上述过程会不断重复，这就是Event Loop事件循环</p>
<p>注意的点：</p>
<p>•所有任务最后都是在主线程上被执行的</p>
<p>•微任务执行完就标志着一次循环完成了</p>
<p>•执行的时候先把一个宏任务拿到主线程上执行，执行该宏任务下的同步任务和微任务</p>
<p>下面可以看几个例子加深印象</p>
<h3 id="练习题1"><a href="#练习题1" class="headerlink" title="练习题1"></a>练习题1</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">分析过程：</span><br><span class="line">•首先整个代码块是一个宏任务，进到主线程开始执行</span><br><span class="line">•<span class="built_in">console</span>.log(<span class="number">1</span>)是同步任务，直接输出 <span class="number">1</span></span><br><span class="line">•执行setTimeout，setTimeout是异步任务，并且是一个宏任务，因此把setTimeout回调函数放到宏任务队列中，记为timer1</span><br><span class="line">•执行<span class="built_in">Promise</span>，有两个then方法，是异步任务，并且是微任务，放到微任务队列中，记为then1,then2</span><br><span class="line">•<span class="built_in">console</span>.log(<span class="number">5</span>);同步任务，直接输出 <span class="number">5</span></span><br><span class="line">•同步任务执行完毕，开始执行微任务，此时微任务队列中如下：</span><br><span class="line"> [then1,then1]</span><br><span class="line"> 宏任务队列：</span><br><span class="line"> [timer]</span><br><span class="line">•执行then1，<span class="built_in">console</span>.log(<span class="number">3</span>) 输出 <span class="number">3</span></span><br><span class="line">•执行then2,<span class="built_in">console</span>.log(<span class="number">4</span>) 输出 <span class="number">4</span></span><br><span class="line">•至此所有微任务执行完，进入下一次循环</span><br><span class="line">•拿出事件队列中第一个宏任务timer，开始执行</span><br><span class="line">•执行该任务下的同步任务，<span class="built_in">console</span>.log(<span class="number">2</span>) 输出 <span class="number">2</span></span><br><span class="line">•检查该任务下的微任务，没有微任务，进入下一个宏任务</span><br><span class="line">•没有宏任务了，执行中止了</span><br></pre></td></tr></table></figure>

<h3 id="练习题2"><a href="#练习题2" class="headerlink" title="练习题2"></a>练习题2</h3><p>本练习题想说明的是setTimeout时间的问题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// timer1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line">add();</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// timer2</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// timer3</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">5</span>)</span><br><span class="line">  &#125;, <span class="number">100</span>)</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">    i == <span class="number">99</span> &amp;&amp; resolve()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// timer4</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">6</span>) </span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">7</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">8</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">分析过程：</span><br><span class="line">•整个代码块是一个宏任务，拿到主线程上执行</span><br><span class="line">•add()执行add函数，<span class="built_in">console</span>.log(<span class="number">1</span>)是同步任务，直接输出 ==&gt; <span class="number">1</span></span><br><span class="line">•setTimeout是宏任务，放到宏任务队列，记为timer1,注意<span class="number">1000</span>这个时间</span><br><span class="line">•接下来setTimeout，放到宏任务队列，记为timer2 ，时间是<span class="number">0</span></span><br><span class="line">•<span class="keyword">new</span> <span class="built_in">Promise</span>，<span class="built_in">console</span>.log(<span class="number">4</span>)是同步任务，输出 ==&gt; <span class="number">4</span></span><br><span class="line">•setTimeout是宏任务，记为timer3，时间是<span class="number">100</span></span><br><span class="line">•then是微任务，放到微任务队列，记为then1</span><br><span class="line">•<span class="built_in">console</span>.log(<span class="number">8</span>)直接输出 ==&gt; <span class="number">8</span></span><br><span class="line">•同步任务执行完毕，此时微任务有[then1]，宏任务有[timer1,timer2,timer3]</span><br><span class="line">•执行微任务then1，有setTimeout，放到宏任务队列，记为timer4，<span class="built_in">console</span>.log(<span class="number">7</span>)输出==&gt; <span class="number">7</span></span><br><span class="line">•微任务执行完毕，执行第一个宏任务，此时宏任务队列是[timer1,timer2,timer3,timer4]，但是这里要特别注意时间，时间会决定setTimeout的执行顺序，因此最终的执行顺序是[timer2,timer4,timer3,timer1]</span><br><span class="line">•因此拿出宏任务队列的第一个任务timer2执行，输出 ==&gt; <span class="number">3</span></span><br><span class="line">•该宏任务下没有微任务，进入下一次循环</span><br><span class="line">•拿出宏任务队列的第二个任务timer4执行，输出 ==&gt; <span class="number">6</span></span><br><span class="line">•该宏任务下没有微任务，进入下一次循环</span><br><span class="line">•拿出宏任务队列的第二个任务timer3执行，输出 ==&gt; <span class="number">5</span></span><br><span class="line">•该宏任务下没有微任务，进入下一次循环</span><br><span class="line">•拿出宏任务队列的第二个任务timer1执行，输出 ==&gt; <span class="number">2</span></span><br><span class="line">•该宏任务下没有微任务，进入下一次循环</span><br><span class="line">•宏任务队列也没有待执行的任务了，执行中止了</span><br></pre></td></tr></table></figure>

<h3 id="练习题3"><a href="#练习题3" class="headerlink" title="练习题3"></a>练习题3</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// timer1</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  <span class="comment">// timer3</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  <span class="comment">// timer2</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">•代码块执行，先执行同步任务，结束之后得到宏任务队列[timer1,timer2]，没有微任务，进入下一次循环</span><br><span class="line">•拿出timer1执行，输出 ==&gt; <span class="number">1</span></span><br><span class="line">•setTimeout记为timer3，timer1中没有微任务了，进入下一次循环，此时宏任务队列[timer2,timer3]</span><br><span class="line">•拿出timer2执行，输出 ==&gt; <span class="number">3</span>，timer2中没有微任务了，进入下一次循环</span><br><span class="line">•拿出timer3执行，输出 ==&gt; <span class="number">2</span>，没有微任务了，进入下一次循环</span><br><span class="line">•宏任务队列也空了，执行中止</span><br></pre></td></tr></table></figure>

<h3 id="练习题4"><a href="#练习题4" class="headerlink" title="练习题4"></a>练习题4</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'1'</span>);</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// timer1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'2'</span>);</span><br><span class="line">    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// nextTick2</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'3'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'4'</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// then1</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'5'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// nextTick1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'6'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123; </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'7'</span>);</span><br><span class="line">    resolve();</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// Promise1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'8'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// timer2</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'9'</span>);</span><br><span class="line">    process.nextTick(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// nextTick3</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'10'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'11'</span>);</span><br><span class="line">        resolve();</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// then2</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'12'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">•主线程执行，<span class="built_in">console</span>.log(<span class="string">'1'</span>) ==&gt; <span class="number">1</span></span><br><span class="line">  setTimeout ==&gt; 宏任务队列[timer1]</span><br><span class="line">  process.nextTick ==&gt; 微任务队列[nextTick1]</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span> 输出 ==&gt; <span class="number">7</span> </span><br><span class="line">                  ==&gt; 微任务队列[nextTick1,Promise1]</span><br><span class="line">  setTimeout ==&gt; 宏任务队列[timer1,timer2]</span><br><span class="line">•执行微任务nextTick1 ==&gt; <span class="number">6</span></span><br><span class="line">•执行微任务Promise1 ==&gt; <span class="number">8</span></span><br><span class="line">•所有微任务执行完毕，进入下一次循环</span><br><span class="line">•执行宏任务队列中第一个timer1，<span class="built_in">console</span>.log(<span class="string">'2'</span>) ==&gt; <span class="number">2</span></span><br><span class="line">                    process.nextTick ==&gt; 微任务队列[nextTick2]</span><br><span class="line">                    <span class="keyword">new</span> <span class="built_in">Promise</span> ==&gt; <span class="built_in">console</span>.log(<span class="string">'4'</span>)==&gt; <span class="number">4</span></span><br><span class="line">                                    then ==&gt; 微任务队列[nextTick2,then1]</span><br><span class="line">•执行timer1中的微任务 nextTick2 ==&gt; <span class="number">3</span></span><br><span class="line">                    then1 ==&gt; <span class="number">5</span></span><br><span class="line">•timer1微任务执行完毕，进入下一次循环</span><br><span class="line">•执行timer2  <span class="built_in">console</span>.log(<span class="string">'9'</span>) ==&gt; <span class="number">9</span></span><br><span class="line">            process.nextTick ==&gt; 微任务队列[nextTick3]</span><br><span class="line">            <span class="keyword">new</span> <span class="built_in">Promise</span> <span class="built_in">console</span>.log(<span class="string">'11'</span>) ==&gt; <span class="number">11</span></span><br><span class="line">                                    then  ==&gt; 微任务队列[nextTick3,then2]</span><br><span class="line">•执行timer2中的微任务 nextTick3 ==&gt; <span class="number">10</span></span><br><span class="line">                        then2 ==&gt; <span class="number">12</span></span><br><span class="line">                        </span><br><span class="line">最终执行结果是：<span class="number">1</span> <span class="number">7</span> <span class="number">6</span> <span class="number">8</span> <span class="number">2</span> <span class="number">4</span> <span class="number">3</span> <span class="number">5</span> <span class="number">9</span> <span class="number">11</span> <span class="number">10</span> <span class="number">12</span></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/2356874721.github.io/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/2356874721.github.io/">1</a><span class="space">&hellip;</span><a class="page-number" href="/2356874721.github.io/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/2356874721.github.io/page/5/">5</a><a class="extend next" rel="next" href="/2356874721.github.io/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">sheriff</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/2356874721.github.io/archives/">
        
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/2356874721.github.io/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/2356874721.github.io/tags/">
          
        <span class="site-state-item-count">47</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sheriff</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>


    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/2356874721.github.io/lib/anime.min.js"></script>
  <script src="/2356874721.github.io/lib/velocity/velocity.min.js"></script>
  <script src="/2356874721.github.io/lib/velocity/velocity.ui.min.js"></script>

<script src="/2356874721.github.io/js/utils.js"></script>

<script src="/2356874721.github.io/js/motion.js"></script>


<script src="/2356874721.github.io/js/schemes/pisces.js"></script>


<script src="/2356874721.github.io/js/next-boot.js"></script>




  















  

  

</body>
</html>
